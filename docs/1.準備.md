# 準備

GitHub repositoryを準備して、Claude Code Actionsを呼び出せる状態を作るのが最初の目的です。

次図の流れで進んでいきます。

1. このGitHub Repositoryをfork
2. GitHub Pagesの有効化
3. Claude GitHub Appのインストール
4. Repository SecretにAnthropic API KEYの設定
5. Claude Code Actionsが動くか実験

## 1. GitHub Repositoryをfork

下図の**fork**をクリックすると、repositoryをコピーできます。

---
![forkボタン](/docs/images/1.1.png)
---

必要であればOwnerに自分を選択して、**Create fork**をクリックしてください。

---
![Create fork](/docs/images/1.2.png)
---

## 2. GitHub Pagesの有効化

**ここからは、forkして作成された自分のrepositoryで作業をします。**

まずはGitHub Actionsが有効化されているか確認します。

`Settings` > `Actions` > `General` と遷移し、下図のように **Allow all actions and reusable workflows**が選択されていることを確認してください。

---
![Allow Actions](/docs/images/1.3.png)
---

続いてGitHub Pagesの有効化と自動デプロイのための設定を行います。

`Settings` > `Pages` と遷移し、**Build and deployment**のSourceに`GitHub Actions`が選択されている状態にしてください。

---
![GitHub Actions](/docs/images/1.4.png)
---

この設定により、AIが書いたコードを取り込んだ時にGitHub Pagesに自動で反映されるようになります。

## 3. Claude GitHub Appのインストール

Claude CodeをGitHub Actionsとして利用するために、[Claude GitHub App](https://github.com/apps/claude)をインストールします。

このリンクのページを表示すると、次のような画面になるので、`Configure`をクリックします。

---
![Claude GitHub App](/docs/images/1.5.png)
---

すると、自分のGitHubユーザー名が表示されている行があるので、その行をクリックします。

---
![Claude Configure](/docs/images/1.6.png)
---

Claude GitHub Appを全てのrepositoryにインストールするか、repositoryを選択してインストールするか選べます。

どちらでも良いですが、ここではrepositoryを選択することにします。

`Only select repositories`を選択し、forkしたrepositoryを選んで`Install & Authorize`をクリックします。

---
![Install](/docs/images/1.7.png)
---

クリックするとClaudeへのログインを求められるページに遷移しますが、特にログインの必要はありません。

forkしたrepositoryに戻り、 `Settings` > `GitHub Apps` のリストに **Claude**が表示されていればokです。

---
![Claude](/docs/images/1.8.png)
---

## 4. Anthropic API KEYの設定

研修で利用するAPI KEYは当日お知らせします。

`Settings` > `Secrets and variables` > `Actions` から、 `New repository secret`をクリックします。

![secret](/docs/images/1.9.png)

Nameには`ANTHROPIC_API_KEY`、Secretには知らされたAPI KEYを入力してください。

![key](/docs/images/1.10.png)

## 5. Claude Code Actionsが動くか実験

試しに何か簡単なタスクを実施させてみましょう。

GitHubの `Issues`タブから、新しいIssueを作成するために、`New Issue`をクリックします。

![New Issue](/docs/images/1.11.png)

今回はサンプルとして、TODO管理をするアプリケーションを作ってみます。

タイトルを「TODOアプリの作成」にして、descriptionに以下のように `@claude` をつけてClaudeにやってほしいことを書きます。

```
@claude

トップページに次の機能を持つTODO管理アプリを作成して

- タスクの作成、編集、削除ができる
- タスクにサブタスクを作成できる
- タスクとサブタスクにはPending, Running, Completedの3つのステータスを設定できる
```
